{"version":3,"sources":["components/ProductItem/index.jsx","components/InputField/InputField.jsx","components/myProfile/index.jsx","components/ChangePass/index.jsx","components/Wishlist/index.jsx","containers/Profile/index.jsx"],"names":["ProductItem","props","title","image","price","id","size","quantity","sale","isProduct","status","currentUser","useAuth","isAuth","useSelector","state","auth","setUser","useState","loading","setLoading","dispatch","useDispatch","history","useHistory","email","salePrice","className","type","hoverable","cover","alt","src","style","height","to","parseFloat","toFixed","onClick","db","collection","doc","delete","then","catch","error","console","AddToCart","stock","sizeChose","disabled","marginLeft","newData","set","push","InputField","field","form","label","errors","touched","name","value","showError","marginBottom","padding","fontSize","placeholder","MyInnerForm","values","handleChange","handleBlur","handleSubmit","onSubmit","defaultValue","onChange","onBlur","phone","marginTop","htmlType","MyProfile","useFileUpload","files","selectFiles","updateMail","displayName","photoURL","uuid","uid","err","setError","EnhancedForm","withFormik","mapPropsToValues","validationSchema","Yup","shape","min","max","required","matches","setSubmitting","setNameAuth","updateProfile","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","message","warn","textAlign","source","accept","file","uploadTask","storage","ref","put","on","snapshot","log","getDownloadURL","downloadURL","setAvatar","showIcon","margin","initialValues","newpassword","cfmnewpassword","SignupSchema","oneOf","ChangePass","setErr","changePassword","a","updatePassword","resetForm","component","WishList","selectedOrgList","setSelectedOrgList","useEffect","wishlist","onSnapshot","record","listData","docs","map","item","data","length","gutter","index","xs","sm","xl","TabPane","Tabs","Profile","tabPosition","centered","tab"],"mappings":"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","file":"static/js/12.fd7a2cee.chunk.js","sourcesContent":["import { Button, Card } from 'antd';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { AddToCart } from '../../Slice/cartSlice';\nimport { HeartOutlined , DeleteOutlined } from '@ant-design/icons';\nimport { db } from '../../firebase/firebase'\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport './index.scss';\nconst ProductItem = (props) => {\n    const { title , image , price , id , size , quantity , sale , isProduct , status} = props\n    const { currentUser } = useAuth()\n    const isAuth = useSelector(state => state.auth.setUser)\n    const [loading , setLoading] = useState(false)\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const email = currentUser && currentUser.email\n    const salePrice = price - sale * price\n    const handleAddToCart = () => {\n        if(isProduct){\n            db.collection(email).doc(id).delete().then(() => {\n            }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n            });\n        }\n        if(sale){\n            dispatch(AddToCart({\n                id : id,\n                title : title,\n                price : salePrice,\n                image : image,\n                size : size,\n                stock : quantity,\n                sizeChose : size && size[0],\n                status : status\n            }))\n        }else{\n            dispatch(AddToCart({\n                id : id,\n                title : title,\n                price : price,\n                image : image,\n                size : size,\n                stock : quantity,\n                sizeChose : size && size[0],\n                status : status\n            }))\n        }\n        \n    }\n    const handleWishList = () => {\n        setLoading(true)\n        if(!isAuth){\n            history.push('/login')\n        }else{\n            const newData = {\n                id : id,\n                title : title,\n                image : image,\n                price : price || salePrice,\n                size : size,\n                quantity : quantity,\n                sale : sale,\n                isProduct : true,\n                status : status\n            }\n            db.collection(email).doc(newData.id).set(newData).then(() => {\n                setLoading(false)\n            }).catch((error) => {\n                setLoading(false)\n                console.error(\"Error removing document: \", error);\n            });\n        }\n    }\n\n\n    const handleDeleteWishlist = () => {\n        db.collection(email).doc(id).delete().then(() => {\n        }).catch((error) => {\n            console.error(\"Error removing document: \", error);\n        });\n    }\n\n    return ( \n        <>\n            <div className=\"product-item\" type=\"flex\">\n                <Card hoverable cover={ <img alt={ title } src={ image[0] }/>} style={{ height : \"100%\" }}>\n                    <p>\n                        <Link \n                            to={ status === \"product\" ? `shoes/${id}` : null ||\n                                status === \"otherbrand\" ? `other-brands/${id}` :  null ||\n                                status === \"Shoelace\" ? `shoes-lace/${id}` : null\n                        } \n                            className=\"title-product\"\n                        >\n                            {title}\n                        </Link>\n                    </p>\n                    { quantity === 0 ? <span className=\"outstock\">Out Stock</span> : <span></span> }\n                    <div className=\"flex-price\">\n                        <div>\n                            <span className={ sale ? \"old-price\" : \"price\" }>{ price } $</span>\n                        </div>\n                        { sale ? <span className=\"sale\">{ sale * 100 }%</span> : <span></span>}\n                        { sale ? <span className=\"new-price\"> { parseFloat(salePrice).toFixed(2) } $ </span> : <span></span> }\n                    </div>\n                    \n                    <div className=\"flex-btn\">\n                        <Button onClick ={ handleAddToCart } type=\"warning\" disabled= { quantity === 0 }>Add to cart</Button>\n                        \n                        { isProduct ? \n                            <Button style={{ marginLeft : \"10px\" }} onClick ={ handleDeleteWishlist }>\n                                <DeleteOutlined />\n                            </Button> : \n                            <Button style={{ marginLeft : \"10px\" }} onClick = { handleWishList } loading ={ loading } disabled= { loading }>\n                                { loading ? \"Loading\" : <HeartOutlined /> }\n                            </Button>   \n                        }\n                    </div>\n                </Card>\n            </div>\n        </>\n    )\n}\n\n\nexport default ProductItem","import { Input } from 'antd';\nimport React from 'react';\nfunction InputField(props) {\n    const { field ,  form , type, label } = props;\n    const { errors, touched  }  = form;\n    const { name , value} = field;\n    const showError = errors[name] && touched[name];\n    return (\n        <div className=\"feild\" style={{ marginBottom : \"15px\" }}>\n            <Input \n                style={{ padding :\"10px 10px\", fontSize : \"15px\" }}\n                placeholder={ label }\n                { ...field }\n                type ={ type }\n                value ={ value }\n                className= { showError ? \"err\" : null }\n            />\n            { showError && <p className=\"error\">{errors[name]}</p>}\n        </div>\n    );\n}\n\nexport default InputField;","import { Alert, Button, Input } from 'antd';\nimport { withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport React, { useState } from 'react'\nimport { useFileUpload } from \"use-file-upload\"\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useDispatch } from 'react-redux';\nimport { setAvatar, setNameAuth } from '../../Slice/authSlice';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { storage } from '../../firebase/firebase';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './index.scss'\n\n\n\nconst MyInnerForm = (props) => {\n    const {\n      values,\n      touched,\n      errors,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n    } = props;\n    return (\n        <form onSubmit={handleSubmit}>\n            <div style={{ marginBottom : \"15px\" }}>\n                <Input \n                    defaultValue = { values.name }\n                    onChange={handleChange}\n                    onBlur={handleBlur} \n                    id=\"name\"\n                />\n                {errors.name && touched.name && (\n                    <div className=\"error\">{errors.name}</div>\n                )}\n            </div>\n            <div style={{ marginBottom : \"15px\" }}>\n                <Input \n                    defaultValue = { values.email }\n                    onChange = { handleChange }\n                    onBlur = { handleBlur }\n                    id=\"email\"\n                />\n                {errors.email && touched.email && (\n                    <div className=\"error\">{errors.email}</div>\n                )}\n            </div>\n            <div>\n                <Input \n                    defaultValue = { values.phone }\n                    onChange = { handleChange }\n                    onBlur = { handleBlur }\n                    id=\"phone\"\n                />\n                {errors.phone && touched.phone && (\n                    <div className=\"error\">{errors.phone}</div>\n                )}\n            </div>\n            <div style={{ marginTop : \"20px\" }}>\n                <Button type=\"primary\" htmlType=\"submit\" disabled = { errors.email || errors.name || errors.phone }>\n                    Update profile\n                </Button>\n            </div>\n        </form>\n    );\n};\nfunction MyProfile() {\n    const defaultSrc = \"https://www.pngkit.com/png/full/301-3012694_account-user-profile-avatar-comments-fa-user-circle.png\";\n    const [files, selectFiles] = useFileUpload();\n    const { currentUser , updateMail } = useAuth()\n    const name = currentUser && currentUser.displayName;\n    const email = currentUser && currentUser.email;\n    const phone = currentUser && currentUser.photoURL;\n    const uuid = currentUser && currentUser.uid;\n    const dispatch = useDispatch()\n    const [err ,setError] = useState()\n\n    const handleUpload = () => {\n        selectFiles({ accept: \"image/*\" }, ({ name, size, source, file }) => {\n            var uploadTask = storage.ref('users/' + uuid + '/profile.jpg').put(file);\n            uploadTask.on('state_changed', \n                (snapshot) => {\n                    console.log(snapshot , \"Update success\")\n                }, \n                (error) => {\n                    console.log(error);\n                }, () => {\n                    uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                        toast.success('ðŸ¦„ update avatar success  ', {\n                            position: \"top-right\",\n                            autoClose: 5000,\n                            hideProgressBar: false,\n                            closeOnClick: true,\n                            pauseOnHover: true,\n                            draggable: true,\n                            progress: undefined,\n                        });\n                        dispatch(setAvatar(downloadURL))\n                    });\n                }\n            );\n        })\n    }\n    const phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/\n    const EnhancedForm = withFormik({\n        mapPropsToValues: () => ({ \n            name : name,\n            email : email,\n            phone : phone\n        }),\n        validationSchema: Yup.object().shape({\n            name: Yup.string()\n                .min(3, 'Name must be at most 3 characters long')\n                .max(10, 'Name must be less than 10 characters')\n                .required(\"Name is required!\"), \n            email: Yup.string().email('Invalid Email').required('Email Required'),\n            phone: Yup.string()\n                .matches(phoneRegExp, \"Phone number is not valid\")\n                .required(\"Phone Required\"),\n        }),\n        handleSubmit: (values, { setSubmitting }) => {\n            if(values.name !== currentUser.displayName || values.email !== currentUser.email || values.phone !== currentUser.photoURL){\n                dispatch(setNameAuth(values.name))\n                currentUser.updateProfile({\n                    displayName : values.name,\n                    photoURL : values.phone\n                })\n                updateMail(values.email).then(() =>{\n                    toast.success('ðŸ¦„ your profile success  ', {\n                        position: \"top-right\",\n                        autoClose: 5000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                }).catch(error => {\n                    setError(error.message)\n                })\n                setSubmitting(false);\n            }else{\n                toast.warn('ðŸ¦„ Opps !! your profile not change  ', {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                });\n                return\n            }\n        }\n    })(MyInnerForm);\n    return (\n        <div className=\"main\">\n            <div className=\"default\">\n                <div style={{ marginTop : \"20px\" , textAlign : \"center\" }}>\n                    <img src={files?.source || defaultSrc } alt=\"preview\"/>\n                    <Button\n                        type=\"primary\"\n                        onClick={handleUpload}\n                    >\n                        Upload Avatar\n                    </Button>\n                </div>\n            </div>\n            <div className=\"change-profile\" style={{ marginTop : \"25px\" }}>\n                { err ? <Alert message={ err } type=\"error\" showIcon style={{ margin : \"10px 0px\" }}/> : null}\n                <ToastContainer/>\n                <EnhancedForm/>\n            </div>\n        </div>\n    )\n}\n\nexport default MyProfile\n\n","import React, { useState } from 'react'\nimport { Formik, Form , FastField } from 'formik';\nimport './index.scss'\nimport * as Yup from 'yup';\nimport InputField from '../../components/InputField/InputField';\nimport { Alert, Button } from 'antd';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nconst initialValues ={ \n    newpassword: '',\n    cfmnewpassword : '',\n}\n\nconst SignupSchema = Yup.object().shape({\n    newpassword: Yup.string()\n        .min(6, 'Password must be at most 6 characters long')\n        .max(50, 'Name must be less than 50 characters')\n        .required('Passwords Required'),\n    cfmnewpassword: Yup.string().oneOf([Yup.ref('newpassword'), null], 'Passwords do not match').required('Comfirm Passwords Required'),\n});\nfunction ChangePass() {\n    const { currentUser } = useAuth()\n    const [loading , setLoading] = useState(false)\n    const [err, setErr] = useState(\"\")\n    const changePassword = async (values, form) => {\n        setLoading(true)\n        currentUser.updatePassword(values.newpassword).then(() => {\n            form.resetForm()\n            setLoading(false)\n            toast.success('ðŸ¦„ Password update success  ', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n            });\n        }).catch(error => {\n            form.resetForm()\n            setLoading(false)\n            setErr(error.message)\n        })\n    }\n\n\n    return (\n        <div className=\"changepass\">\n            <ToastContainer/>\n            { err ? <Alert message={ err } type=\"error\" showIcon style={{ margin : \"10px 0px\" }}/> : null}\n            <Formik\n                initialValues={initialValues}\n                validationSchema={SignupSchema}\n                onSubmit ={ (values , form ) => changePassword(values,form) }\n            >\n                <Form>\n                    <FastField name=\"newpassword\" component={ InputField } type=\"password\" label=\"New Password\"/>\n                    <FastField name=\"cfmnewpassword\" component={ InputField } type=\"password\" label=\"Confirm Password\"/>\n                    <div style={{ marginTop : \"20px\" }}>\n                        <Button type=\"primary\" htmlType=\"submit\" loading={ loading }>\n                            { loading ? \"Loading\" : \"Update password\" }\n                        </Button>\n                    </div>\n                </Form>\n            </Formik>\n        </div>\n    )\n}\n\nexport default ChangePass\n","import { Col, Empty, Row } from 'antd';\nimport { db } from '../../firebase/firebase';\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport React, { useEffect, useState } from 'react';\nimport ProductItem from '../../components/ProductItem';\nfunction WishList() {\n    const { currentUser } = useAuth()\n    const [selectedOrgList, setSelectedOrgList] = useState();\n    const email = currentUser && currentUser.email\n    useEffect(() => {\n        const wishlist = db.collection(email).onSnapshot(record => {\n            const listData = record.docs.map(item => ({\n                id : item.id,\n                title : item.data().title,\n                image : item.data().image,\n                price : item.data().price,\n                size : item.data().size,\n                quantity : item.data().quantity,\n                sale : item.data().sale,\n                isProduct : item.data().isProduct,\n                status : item.data().status\n            }))\n            setSelectedOrgList(listData)\n        })\n        return() => wishlist();\n    } , [email])\n    return (\n        <div className=\"wish-list\">\n            { selectedOrgList && selectedOrgList.length > 0 ? <Row gutter={ 24 }>\n                { selectedOrgList.map((item , index) => (\n                    <Col className=\"gutter-row\" xs={ 24 } sm={ 12 } xl={8} key={ index } style={{ marginBottom : \"25px\" }}>\n                        <ProductItem \n                            id={ item.id } \n                            title ={ item.title }\n                            price ={ item.price }\n                            image={ item.image }\n                            size = { item.size }\n                            quantity = { item.quantity }\n                            sale = { item.sale }\n                            isProduct = { item.isProduct }\n                            status = { item.status }\n                        />\n                    </Col>\n                )) }\n                \n            </Row> : <Empty/> }\n        </div>\n    )\n}\nexport default WishList\n\n","import React, { useState } from 'react';\nimport './index.scss';\nimport { Tabs } from \"antd\";\nimport MyProfile from \"../../components/myProfile\";\nimport ChangePass from \"../../components/ChangePass\";\nimport WishList from '../../components/Wishlist';\nconst { TabPane } = Tabs;\nconst Profile = () => {\n    const [tabPosition] = useState(\"top\")\n    const changeTab = (index) => {\n        //console.log(index);\n    }\n\n\n    return (\n        <div className=\"profile\">\n            <div className=\"container\">\n                <div className=\"profile-control\">\n                    <Tabs tabPosition={tabPosition} centered onChange={ changeTab }>\n                        <TabPane tab=\"My profile\" key=\"1\">\n                            <div className=\"w-profile\">\n                                <MyProfile/>\n                            </div>\n                        </TabPane>\n                        <TabPane tab=\"Wish list\" key=\"2\">\n                            <div className=\"w-profile\" style={{ padding : \"30px 0\" }}>\n                                <WishList/>\n                            </div>\n                        </TabPane>\n                        <TabPane tab=\"Change PassWord\" key=\"3\">\n                            <div className=\"w-profile\">\n                                <ChangePass/>\n                            </div>\n                        </TabPane>\n                    </Tabs>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Profile\n\n"],"sourceRoot":""}